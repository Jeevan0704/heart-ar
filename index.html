<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Human Heart AR</title>

  <!-- Google Model Viewer -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

  <style>
    body {
      margin: 0;
      background-color: #111;
      color: white;
      font-family: 'Poppins', sans-serif;
      overflow: hidden;
    }

    model-viewer {
      width: 100%;
      height: 100vh;
    }

    #infoBox {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.6);
      padding: 12px 18px;
      border-radius: 10px;
      font-size: 14px;
      text-align: center;
      max-width: 80%;
      display: none;
    }

    #title {
      position: absolute;
      top: 15px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 20px;
      font-weight: 600;
      text-align: center;
    }
  </style>
</head>
<body>
  <div id="title">ðŸ«€ Human Heart AR Experience</div>

  <model-viewer
    id="viewer"
    src="heart-3d.glb"
    ios-src="heart-3d.usdz"
    ar
    ar-modes="webxr quick-look"
    camera-controls
    auto-rotate
    shadow-intensity="1"
    exposure="1.2"
    style="width: 100%; height: 100vh;"
    alt="3D model of a human heart"
  ></model-viewer>

  <div id="infoBox"></div>

  <script>
    const viewer = document.getElementById('viewer');
    const infoBox = document.getElementById('infoBox');

    const facts = [
      "The heart pumps around 2,000 gallons of blood every day.",
      "It beats about 100,000 times per day.",
      "The left side of your heart pumps blood to your whole body.",
      "The heart has four chambers: two atria and two ventricles.",
      "Your heart is roughly the size of your fist."
    ];

    let factIndex = 0;

    viewer.addEventListener('click', () => {
      infoBox.style.display = 'block';
      infoBox.innerText = facts[factIndex];
      speak(facts[factIndex]);
      factIndex = (factIndex + 1) % facts.length;
    });

    function speak(text) {
      const msg = new SpeechSynthesisUtterance(text);
      msg.rate = 1.05;
      msg.pitch = 1.0;
      msg.lang = 'en-US';
      window.speechSynthesis.speak(msg);
    }

    viewer.addEventListener('load', () => {
      console.log("âœ… Model loaded successfully!");
    });
  </script>
</body>
</html>
